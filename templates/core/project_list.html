{% extends 'base.html' %}

{% block content %}
  <h2>Project List</h2>
  
  {% if project_list %}
    <ul>
      {% for project in project_list %}
        <li>
          <strong>Project: {{ project.project_name }}</strong><br>
          Description: {{ project.description }}<br>
          Start Date: {{ project.start_date }}<br>
          Deadline: {{ project.deadline }}<br>
          
          {% if user in project.members.all %}
            <a href="{% url 'core:project-detail' pk=project.id %}" class="btn btn-primary">Details</a>
            <a href="{% url 'core:project-update' pk=project.id %}" class="btn btn-warning">Update</a>
          {% endif %}
          
          {% if user == project.created_by %}
            <a href="{% url 'core:project-delete' pk=project.id %}" class="btn btn-danger">Delete</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No projects available.</p>
  {% endif %}
  
  <a href="{% url 'core:project-create' %}" class="btn btn-success">Create Project</a>
{% endblock %}
